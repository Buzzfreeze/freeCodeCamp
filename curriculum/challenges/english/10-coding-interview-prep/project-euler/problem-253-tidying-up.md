---
id: 5900f4691000cf542c50ff7c
title: 'Problem 253: Tidying up'
challengeType: 5
forumTopicId: 301901
dashedName: problem-253-tidying-up
---

# --description--

เด็กเล็กคนหนึ่งมี "หนอนตัวเลข" ซึ่งประกอบด้วยตัวต่อสี่สิบตัว โดยแต่ละตัวมีตัวเลขหนึ่งตัว ซึ่งเมื่อต่อเข้าด้วยกันเป็นแถว จะแสดงตัวเลข 1 ถึง 40 ตามลำดับ

ทุกคืนพ่อของเด็กจะต้องหยิบชิ้นส่วนของหนอนผีเสื้อที่กระจัดกระจายไปทั่วห้องเด็กเล่น เขาหยิบชิ้นส่วนขึ้นมาโดยสุ่มและจัดวางในลำดับที่ถูกต้อง

เนื่องจากตัวหนอนถูกสร้างขึ้นในลักษณะนี้ มันจึงสร้างส่วนต่างๆ ที่แยกจากกันและค่อยๆ รวมเข้าด้วยกัน จำนวนsegmentเริ่มต้นที่ศูนย์ (ไม่มีการวางชิ้นส่วน) โดยทั่วไปจะเพิ่มขึ้นประมาณสิบเอ็ดหรือสิบสอง จากนั้นจึงมีแนวโน้มลดลงอีกครั้งก่อนที่จะจบที่segmentเดียว (วางชิ้นส่วนทั้งหมด)

เช่น

| Piece Placed | Segments So Far |
| -------------|-----------------|
|       12     |        1        |
|        4     |        2        |
|       29     |        3        |
|        6     |        4        |
|       34     |        5        |
|        5     |        4        |
|       35     |        4        |
|       …      |        …        |

Let $M$ be the maximum number of segments encountered during a random tidy-up of the caterpillar. For a caterpillar of ten pieces, the number of possibilities for each $M$ is

| M | Possibilities |
|---|---------------|
| 1 |      512      |
| 2 |     250912    |
| 3 |    1815264    |
| 4 |    1418112    |
| 5 |     144000    |

ให้ $M$ เป็นจำนวนสูงสุดของsegmentที่พบในระหว่างการจัดระเบียบแบบสุ่มของหนอนผีเสื้อ สำหรับหนอนผีเสื้อสิบตัว จำนวนความเป็นไปได้สำหรับแต่ละ $M$ คือ

มูลค่าที่เป็นไปได้มากที่สุดของ $M$ สำหรับหนอนผีเสื้อสี่สิบตัวคือ 11; แต่ค่าเฉลี่ยของ $M$ คืออะไร? ให้คำตอบของคุณเป็นทศนิยมหกตำแหน่ง

# --hints--

`tidyingUp()` ควร return `11.492847`.

```js
assert.strictEqual(tidyingUp(), 11.492847);
```

# --seed--

## --seed-contents--

```js
function tidyingUp() {

  return true;
}

tidyingUp();
```

# --solutions--

```js
// solution required
```
