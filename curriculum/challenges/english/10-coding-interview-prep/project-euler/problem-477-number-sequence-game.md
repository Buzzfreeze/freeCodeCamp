---
id: 5900f54a1000cf542c51005c
title: 'Problem 477: Number Sequence Game'
challengeType: 5
forumTopicId: 302154
dashedName: problem-477-number-sequence-game
---

# --description--

เกมลำดับตัวเลขเริ่มต้นด้วยลำดับ $S$ ของตัวเลข $N$ ตัว ในบรรทัดเดียวกัน

ผู้เล่นสองคนสลับกัน ในเทิร์นของเขา ผู้เล่นต้องเลือกและลบหมายเลขแรกหรือหมายเลขสุดท้ายที่เหลืออยู่ในลำดับ

คะแนนของผู้เล่นคือผลรวมของตัวเลขทั้งหมดที่เขาได้รับ ผู้เล่นแต่ละคนพยายามที่จะเพิ่มผลรวมของตัวเองให้ได้มากที่สุด

หาก $N = 4$ และ $S = \\{1, 2, 10, 3\\}$ ผู้เล่นแต่ละคนจะเพิ่มคะแนนสูงสุดดังนี้

- ผู้เล่น 1: ลบตัวเลขแรก (1)
- ผู้เล่น 2: ลบหมายเลขสุดท้ายออกจากลำดับที่เหลือ (3)
- ผู้เล่น 1: ลบหมายเลขสุดท้ายออกจากลำดับที่เหลือ (10)
- ผู้เล่น 2: ลบจำนวนที่เหลือ (2)

ผู้เล่น 1 ได้คะแนนเป็น $1 + 10 = 11$

ให้ $F(N)$ เป็นคะแนนของผู้เล่น 1 ถ้าผู้เล่นทั้งสองปฏิบัติตามกลยุทธ์ที่เหมาะสมที่สุดสำหรับลำดับ $S = \\{s_1, s_2, \ldots, s_N\\}$ กำหนดเป็น

- $s_1 = 0$
- $s_{i + 1} = ({s_i}^2 + 45)$ modulo $1\\,000\\,000\\,007$

มีลำดับเป็น $S = \\{0, 45, 2\\,070, 4\\,284\\,945, 753\\,524\\,550, 478\\,107\\,844, 894\\,218\\,625, \ldots\\}$.

กำหนดให้ $F(2) = 45$, $F(4) = 4\\,284\\,990$, $F(100) = 26\\,365\\,463\\,243$, $F(104) = 2\\,495\\,838\\,522\\,951$.

ให้หา $F({10}^8)$

# --hints--

`numberSequenceGame()` ต้องคืนค่าเป็น `25044905874565164`

```js
assert.strictEqual(numberSequenceGame(), 25044905874565164);
```

# --seed--

## --seed-contents--

```js
function numberSequenceGame() {

  return true;
}

numberSequenceGame();
```

# --solutions--

```js
// solution required
```
