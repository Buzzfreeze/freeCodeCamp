---
id: 5900f4b31000cf542c50ffc6
title: 'Problem 327: Rooms of Doom'
challengeType: 5
forumTopicId: 301984
dashedName: problem-327-rooms-of-doom
---

# --description--

สามห้องเชื่อมต่อกันด้วยประตูอัตโนมัติ

<img class="img-responsive center-block" alt="series of three rooms, connected to each other by automatic doors" src="https://cdn.freecodecamp.org/curriculum/project-euler/rooms-of-doom.gif" style="background-color: white; padding: 10px;">

ประตูแต่ละบานใช้บัตรรักษาความปลอดภัย เมื่อคุณเข้าไปในห้อง ประตูจะปิดโดยอัตโนมัติ และไม่สามารถใช้บัตรรักษาความปลอดภัยนั้นได้อีก เครื่องจะจ่ายบัตรไม่ จำกัด จำนวนในการเริ่มต้น แต่แต่ละห้อง (รวมถึงห้องเริ่มต้น) มีเครื่องสแกน หากตรวจพบว่าคุณถือการ์ดความปลอดภัยมากกว่า 3 ใบ หรือหากตรวจพบการ์ดรักษาความปลอดภัยที่พื้น ประตูทุกบานจะถูกล็อคอย่างถาวร อย่างไรก็ตาม แต่ละห้องมีกล่องที่คุณสามารถจัดเก็บการ์ดรักษาความปลอดภัยจำนวนเท่าใดก็ได้อย่างปลอดภัยเพื่อใช้ในภายหลัง

หากคุณพยายามเดินทางผ่านห้องทีละห้อง เมื่อคุณเข้าไปในห้อง 3 คุณจะใช้ไพ่ทั้งสามใบและจะถูกขังอยู่ในห้องนั้นตลอดไป!

อย่างไรก็ตาม หากคุณใช้ประโยชน์จากกล่องเก็บของ การหลบหนีก็เป็นไปได้ ตัวอย่างเช่น คุณสามารถเข้าห้อง 1 โดยใช้การ์ดใบแรก วางการ์ดหนึ่งใบลงในกล่องเก็บของ และใช้การ์ดใบที่สามเพื่อออกจากห้องกลับไปที่จุดเริ่มต้น จากนั้นหลังจากรวบรวมการ์ดอีกสามใบจากเครื่องจ่าย คุณสามารถใช้การ์ดหนึ่งใบเพื่อเข้าไปในห้อง 1 และรวบรวมการ์ดที่คุณวางไว้ในกล่องเมื่อสักครู่นี้ ตอนนี้คุณมีไพ่สามใบอีกครั้งและจะสามารถเดินทางผ่านสามประตูที่เหลือได้ วิธีนี้ทำให้คุณสามารถเดินทางผ่านทั้งสามห้องได้โดยใช้การ์ดรักษาความปลอดภัยทั้งหมด 6 ใบ

สามารถเดินทางผ่านห้องต่างๆ ได้ 6 ห้องโดยใช้การ์ดรักษาความปลอดภัยทั้งหมด 123 ใบ โดยสามารถใส่การ์ดได้สูงสุด 3 ใบ

ให้ $C$ เป็นจำนวนบัตรสูงสุดที่สามารถพกติดตัวได้ตลอดเวลา

ให้ $R$ เป็นจำนวนห้องที่จะเดินทาง

ให้ $M(C, R)$ เป็นจำนวนบัตรขั้นต่ำที่เครื่องจ่ายบัตรต้องใช้เพื่อเดินทางผ่านห้อง $R$ ที่มีบัตรสูงสุด $C$ ได้ตลอดเวลา

ตัวอย่างเช่น $M(3, 6) = 123$ และ $M(4, 6) = 23$

และ $\sum M(C, 6) = 146$ สำหรับ $3 ≤ C ≤ 4$

จะได้รับ $\sum M(C, 10) = 10382$ สำหรับ $3 ≤ C ≤ 10$

หา $\sum M(C, 30)$ สำหรับ $3 ≤ C ≤ 40$

# --hints--

`roomsOfDoom()` ควร return `34315549139516`.

```js
assert.strictEqual(roomsOfDoom(), 34315549139516);
```

# --seed--

## --seed-contents--

```js
function roomsOfDoom() {

  return true;
}

roomsOfDoom();
```

# --solutions--

```js
// solution required
```
