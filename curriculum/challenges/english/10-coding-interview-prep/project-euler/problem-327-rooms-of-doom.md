---
id: 5900f4b31000cf542c50ffc6
title: 'Problem 327: Rooms of Doom'
challengeType: 5
forumTopicId: 301984
dashedName: problem-327-rooms-of-doom
---

# --description--

ห้องสามห้องเชื่อมต่อกันด้วยประตูอัตโนมัติ

<img class="img-responsive center-block" alt="series of three rooms, connected to each other by automatic doors" src="https://cdn.freecodecamp.org/curriculum/project-euler/rooms-of-doom.gif" style="background-color: white; padding: 10px;">

ประตูแต่ละบานใช้บัตรผ่าน เมื่อคุณเข้าไปในห้อง ประตูจะปิดโดยอัตโนมัติ และไม่สามารถใช้บัตรผ่านนั้นได้อีก เครื่องจะจ่ายบัตรไม่จำกัดจำนวนในการเริ่มต้น แต่ละห้อง (รวมถึงห้องเริ่มต้น) มีเครื่องสแกน หากตรวจพบว่าคุณถือบัตรผ่านมากกว่า 3 ใบ หรือหากตรวจพบบัตรผ่านที่พื้น ประตูทุกบานจะถูกล็อคอย่างถาวร อย่างไรก็ตาม แต่ละห้องมีกล่องที่คุณสามารถจัดเก็บบัตรผ่านจำนวนเท่าใดก็ได้อย่างปลอดภัยเพื่อใช้ในภายหลัง

หากคุณพยายามเดินทางผ่านห้องทีละห้อง เมื่อคุณเข้าไปในห้อง 3 คุณจะใช้บัตรทั้งสามใบและจะถูกขังอยู่ในห้องนั้นตลอดไป!

ถ้าคุณใช้ประโยชน์จากกล่องเก็บของ การหลบหนีก็เป็นไปได้ ตัวอย่างเช่น คุณสามารถเข้าห้อง 1 โดยใช้บัตรใบแรก วางบัตรหนึ่งใบลงในกล่องเก็บของ และใช้บัตรใบที่สามเพื่อออกจากห้องกลับไปที่จุดเริ่มต้น จากนั้นหลังจากรวบรวมบัตรอีกสามใบจากเครื่องจ่าย คุณสามารถใช้บัตรหนึ่งใบเพื่อเข้าไปในห้อง 1 และรวบรวมบัตรที่คุณวางไว้ในกล่องเมื่อสักครู่นี้ ตอนนี้คุณมีบัตรสามใบอีกครั้งและจะสามารถเดินทางผ่านสามประตูที่เหลือได้ 

วิธีนี้ทำให้คุณสามารถเดินทางผ่านทั้งสามห้องได้โดยใช้บัตรผ่านทั้งหมด 6 ใบ

สามารถเดินทางผ่านห้องต่างๆ ได้ 6 ห้องโดยใช้บัตรผ่านทั้งหมด 123 ใบ โดยสามารถใส่บัตรได้สูงสุด 3 ใบ

ให้ $C$ เป็นจำนวนบัตรสูงสุดที่สามารถพกติดตัวได้ตลอดเวลา

ให้ $R$ เป็นจำนวนห้องที่จะเดินทาง

ให้ $M(C, R)$ เป็นจำนวนบัตรขั้นต่ำที่เครื่องจ่ายบัตรต้องใช้เพื่อเดินทางผ่านห้อง $R$ ที่มีบัตรสูงสุด $C$ ได้ตลอดเวลา

เช่น $M(3, 6) = 123$ และ $M(4, 6) = 23$

และ $\sum M(C, 6) = 146$ ถ้า $3 ≤ C ≤ 4$

จะได้รับ $\sum M(C, 10) = 10382$ ถ้า $3 ≤ C ≤ 10$

ให้หา $\sum M(C, 30)$ ถ้า $3 ≤ C ≤ 40$

# --hints--

`roomsOfDoom()` ต้องคืนค่าเป็น `34315549139516`

```js
assert.strictEqual(roomsOfDoom(), 34315549139516);
```

# --seed--

## --seed-contents--

```js
function roomsOfDoom() {

  return true;
}

roomsOfDoom();
```

# --solutions--

```js
// solution required
```
