---
id: 5900f4111000cf542c50ff24
title: 'Problem 165: Intersections'
challengeType: 5
forumTopicId: 301799
dashedName: problem-165-intersections
---

# --description--

segment ถูกกำหนดโดยไม่ซ้ำกันโดยจุดปลายทั้งสอง เมื่อพิจารณาส่วนของเส้นตรงสองส่วนในเรขาคณิตระนาบ มีความเป็นไปได้สามประการ: ส่วนดังกล่าวมีจุดศูนย์ จุดหนึ่งจุด หรือจุดร่วมกันอย่างไม่สิ้นสุด

นอกจากนี้ เมื่อทั้งสองส่วนมีจุดร่วมกันเพียงจุดเดียว อาจเป็นกรณีที่จุดร่วมนั้นเป็นจุดสิ้นสุดของส่วนใดส่วนหนึ่งหรือของทั้งสองส่วน ถ้าจุดร่วมของสองส่วนไม่ใช่จุดสิ้นสุดของส่วนใดส่วนหนึ่ง ก็จะเป็นจุดภายในของทั้งสองส่วน

เราจะเรียกจุดร่วม $T$ ของสองส่วน $L_1$ และ $L_2$ ว่าเป็นจุดตัดจริงของ $L_1$ และ $L_2$ ถ้า $T$ เป็นจุดร่วมเพียงจุดเดียวของ $L_1$ และ $L_2$ และ $ T$ เป็นจุดภายในของทั้งสองส่วน

พิจารณาสาม segments $L_1$, $L_2$, และ $L_3$:

$$\begin{align}
  & L_1: (27, 44) \\;\text{to}\\; (12, 32) \\\\
  & L_2: (46, 53) \\;\text{to}\\; (17, 62) \\\\
  & L_3: (46, 70) \\;\text{to}\\; (22, 40) \\\\
\end{align}$$


สามารถตรวจสอบได้ว่าส่วนของเส้นตรง $L_2$ และ $L_3$ มีจุดตัดจริง เราสังเกตว่าจุดสิ้นสุดจุดหนึ่งของ $L_3$: (22, 40) อยู่ที่ $L_1$ ซึ่งไม่ถือเป็นจุดตัดจริง $L_1$ และ $L_2$ ไม่มีจุดร่วม ดังนั้นในสามส่วนของเส้นตรง เราพบจุดตัดจริงจุดเดียว

ตอนนี้ ให้เราทำเช่นเดียวกันสำหรับส่วนของเส้น 5,000 เส้น ด้วยเหตุนี้ เราจึงสร้างตัวเลข 20000 หมายเลขโดยใช้ตัวสร้างตัวเลขสุ่มหลอกที่เรียกว่า "Blum Blum Shub"

$$\begin{align}
  & s_0 = 290797 \\\\
  & s_{n + 1} = s_n × s_n (\text{modulo}\\; 50515093) \\\\
  & t_n = s_n (\text{modulo}\\; 500) \\\\
\end{align}$$

ในการสร้างแต่ละส่วนของเส้นตรง เราใช้ตัวเลขสี่ตัวติดกัน $t_n$ นั่นคือส่วนของบรรทัดแรกถูกกำหนดโดย:

($_t$1, $t_2$) ถึง ($t_3$, $t_4$)


ตัวเลขสี่ตัวแรกที่คำนวณตามตัวสร้างข้างต้นควรเป็น: 27, 144, 12 และ 232 ส่วนแรกจะเป็น (27, 144) ถึง (12, 232)

มีจุดตัดจริงที่แตกต่างกันกี่จุดในกลุ่มเส้น 5,000 เส้น

# --hints--

`distinctIntersections()` ควร return `2868868`.

```js
assert.strictEqual(distinctIntersections(), 2868868);
```

# --seed--

## --seed-contents--

```js
function distinctIntersections() {

  return true;
}

distinctIntersections();
```

# --solutions--

```js
// solution required
```
